# Django Student Enrollment API

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ –∏ –∏—Ö –∑–∞—á–∏—Å–ª–µ–Ω–∏—è–º–∏.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –±–∞–∑–µ Django –∏ Django REST Framework —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.

---

## üìå –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã API

| URL                         | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ                                         | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è       |
|-----------------------------|-------|------------------------------------------------|-------------------|
| `/token/`                   | POST  | –ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞ (–ª–æ–≥–∏–Ω)                     | –ù–µ—Ç                |
| `/token/refresh/`           | POST  | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞                            | –ù–µ—Ç                |
| `/token/verify/`            | POST  | –ü—Ä–æ–≤–µ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞                              | –ù–µ—Ç                |
| `/students/<int:id>/`       | GET   | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—É–¥–µ–Ω—Ç–µ –ø–æ ID           | –î–∞ (IsAuthenticated + IsAuthor) |
| `/student/`                 | POST  | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å—Ç—É–¥–µ–Ω—Ç–∞)         | –ù–µ—Ç (AllowAny)      |
| `/enrollment/`              | GET   | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞—á–∏—Å–ª–µ–Ω–∏–π                      | –î–∞                 |

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤—å—é—Ö–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—É–¥–µ–Ω—Ç–µ (StudentView)

- **URL:** `/students/<id>/`  
- **–ú–µ—Ç–æ–¥:** GET  
- –¢—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (`IsAuthenticated`, `IsAuthor`).  
- –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–∏—Å–∞ `GetStudentService`.  
- –õ–æ–≥–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ `StudentSerializer`.

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ (StudentCreateView)

- **URL:** `/student/`  
- **–ú–µ—Ç–æ–¥:** POST  
- –î–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º (`AllowAny`).  
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (username, password, email, —Ç–µ–ª–µ—Ñ–æ–Ω, –∏–º—è, –≤–æ–∑—Ä–∞—Å—Ç), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ä–æ–ª—è.  
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏ —Å—Ç–∞—Ç—É—Å 201.

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—á–∏—Å–ª–µ–Ω–∏–π (EnrollmentGetView)

- **URL:** `/enrollment/`  
- **–ú–µ—Ç–æ–¥:** GET  
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞—á—É Celery `my_task` –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.  
- –ü—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å `GetEnrollmentService`.  
- –°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞—á–∏—Å–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ `EnrollmentSerializer` —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –∫—É—Ä—Å–æ–≤.  
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∫–µ—à –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã

- `GetStudentService` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø–æ ID —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.  
- `GetEnrollmentService` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∑–∞—á–∏—Å–ª–µ–Ω–∏–π.  
- `StudentAdultsFilterService` ‚Äî —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞.

---

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

- **StudentSerializer**: id, name, phone_number, age, graduation_date, created_at, updated_at  
- **EnrollmentSerializer**: id, student (–æ–±—ä–µ–∫—Ç), course (–æ–±—ä–µ–∫—Ç), grade, enroll_date  
- **CourseEnrollmentSerializer**: –≤—Å–µ –ø–æ–ª—è –∫—É—Ä—Å–∞

---

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- JWT —á–µ—Ä–µ–∑ `rest_framework_simplejwt`:  
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ `/token/`  
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `/token/refresh/`  
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ `/token/verify/`

---

## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å

- Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á:  
  - –ó–∞–¥–∞—á–∞ `my_task`, –∑–∞–ø—É—Å–∫–∞–µ–º–∞—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∑–∞—á–∏—Å–ª–µ–Ω–∏–π.

---

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –í–∞–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (–∑–∞–ø—Ä–æ—Å—ã, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, –∫—ç—à).

---

## –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ API

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞

GET /students/1/
Authorization: Bearer <jwt_token>

text

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞

POST /student/
Content-Type: application/json

{
"username": "user1",
"password": "pass123",
"name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
"email": "ivan@example.com",
"phone_number": "+79991234567",
"age": 25
}

text

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—á–∏—Å–ª–µ–Ω–∏–π

GET /enrollment/
Authorization: Bearer <jwt_token>